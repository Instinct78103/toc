"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var mobileMenu={status:!1,currentScroll:0,get isOn(){return this.status},set isOn(t){this.status=t,this.status?(this.currentScroll=jQuery(window).scrollTop(),jQuery(".site-header").css({backgroundColor:"#b71c1c"}),jQuery(".mobile-menu-container").addClass("open"),jQuery("#content, #colophon").css({display:"none"})):(jQuery(".site-header").css({backgroundColor:"#931314"}),jQuery(".mobile-menu-container").removeClass("open"),jQuery("#content, #colophon").css({display:"block"}),jQuery(document).scrollTop(this.currentScroll))}};!function(n){n(".site-header").css({top:parseInt(n("html").css("marginTop"))+"px"}),n(".toc_block").length&&n(window).on("scroll",function(t){var e;n(".toc-item.active").length&&(e=n(".toc-item.active"),e=(e=e).offset().top-n(window).scrollTop(),(n(window).height()<e||e<n(window).scrollTop())&&n(".toc_block").css({top:"".concat(-1*(jQuery(".toc-item.active").offset().top-jQuery(".toc_block").offset().top-200),"px")}))});var o,r=n(".site-header").innerHeight()+parseInt(n(".site-header").css("top"));function a(t){var e=document.cookie,o="rating[".concat(t,"][like]=yes"),r="rating[".concat(t,"][dislike]=yes"),t=e.split("; ").some(function(t){return t===o}),e=e.split("; ").some(function(t){return t===r});t?n('button[data-button="like"]').addClass("active"):n('button[data-button="like"]').removeClass("active"),e?n('button[data-button="dislike"]').addClass("active"):n('button[data-button="dislike"]').removeClass("active")}n(".mobile-menu-toggle").on("click",function(t){t.preventDefault(),t.stopPropagation();t=n("#masthead").innerHeight()+parseInt(n("html").css("marginTop"))+"px";n(".mobile-menu-container").css({top:t,height:"calc(100vh - ".concat(t,")")}),mobileMenu.isOn=!mobileMenu.isOn}),_toConsumableArray(n('a[href^="#"]')).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),t=this.getAttribute("href"),n(t).length&&n([document.documentElement,document.body]).animate({scrollTop:n(t).offset().top-r+2},800)})}),n("body").hasClass("single-post")&&(o=new Proxy({hash:""},{set:function(t,e,o){var r;return"hash"===e&&t[e]!==o&&(o?(r="#"+o,history.replaceState(null,null,r),n(".toc-item a").parent(".toc-item").removeClass("active"),n('.toc-item a[href="'.concat(r,'"]')).parent(".toc-item").addClass("active")):(r=(r=window.location.toString()).substring(0,r.indexOf("#")),history.replaceState(null,null,r),n(".toc-item a").parent(".toc-item").removeClass("active"))),t[e]=o,!0}}),n(document).on("scroll",function(t){var e=Array.from(n(".heading")).reverse().find(function(t){return t.offsetTop<window.pageYOffset+r});o.hash=e?e.id:""})),n(".postid").length&&a(n(".postid").val()),n("button[data-button]").on("click",function(t){var e,o=t.target;t.preventDefault(),(!o.dataset.lockedAt||1e3<+new Date-o.dataset.lockedAt)&&(e={action:"refresh_post_rating",param:{button_clicked:n(this).data("button"),postid:n(".postid").val()}},jQuery.post("/wp-admin/admin-ajax.php",e,function(t){t=JSON.parse(t);n('button[data-button="like"] > .like').text(t.likes),n('button[data-button="dislike"] > .dislike').text(t.dislikes),a(e.param.postid)})),t.target.dataset.lockedAt=+new Date}),document.querySelector(".expand").addEventListener("click",function(t){window.innerWidth<=1e3&&(n(".toc_block").toggleClass("open"),document.querySelector(".expand > .far").classList.contains("fa-list")?document.querySelector(".expand > .far").classList.replace("fa-list","fa-mark"):document.querySelector(".expand > .far").classList.replace("fa-mark","fa-list"))})}(jQuery);